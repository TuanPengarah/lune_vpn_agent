# Automatically generated on 2021-08-06 UTC from https://codemagic.io/app/60f11a014142797fc8d734d4/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        FCI_KEYSTORE_PATH: /tmp/keystore.keystore
        FCI_KEYSTORE: Encrypted(Z0FBQUFBQmhETkd4QnJoN2FFbEJDWlFNX0lPTUxxekViODJuNzVzQ0J4eDl4THRxVUNIUThoVmNLeWpDVzVnbEV3RWUtU1B5a1poTWpKbkZyLVNsSmxKOHNJeW16ZVl5RE5teVQxVkUxdGl4aFZWUjJISTA1VFVBWURCU3RRQmI4aTdZb2wtNHZDal9PdGk1LW5RVG5DTXJmazBKXzFaT0lYeXduMDk1cG5XZUJURGVFc1JPc0l5bW9TOUtxdDJtLVAyS1pjcUg4YUF6aWw2Rlk1bDNnbGdnYm1Ec2FYNDR2RFp0NGptdmZvQ2s0MEl6WmNibk5wVFRJcDUxVFhPSDBxb0tIVzgxSjItQm1sWGV4NGduSlZ0bmJCZjV1Q1pVaFlFN0VFR2Y5cmZmRlM3b2Z5VEhpMlZseUo3eW5wNmNGOUotVDBvNmJJOFN4YWp0Vm5MUVNXS2NGLTZkYUNvR0N5TnRfMlBaTDdJalhDa2ktVVhPb1dab0J0S1lfeGJCYnpMSTlEbUdVWFVfeVpDY25veXF6OXpfZ0FtOF9nQVZ4Q3NNbnQtWWp5Ry1HSmVnTjZmdktZc0Yxa2pvQWJlbnZoRjJ2XzhMZTVaZktMTzdEWi03NWFWZGdVVnQwdTFkandSTWpaTngyUTZPbjlVOUU0UnBMcTgtWE1jN1FjR0N6em9HYUZmbUM2bVJqSk1XXzNHMVFBRlFEeDRhVlZxXzVKQUxkUmZxRjU5cnFoME9ZS0pQM0xYMGVVWHpmVW9aaFhNdjh2Yi1oZGI3Y1FfQzM4ejFlZFJhX2NWWnRoYV94WWR6ME9ILVg2OThRQXRTRUxGUHJsdUpFZVFOdFduWEtnRU1yLTdYdEVKVjlZTnpMWHd5Y0phTGRhSVBYMlc3cWtxeEZNekFPLUE5S0xONEstYS1MaXJHcjh3c2MzRnFVU1JnUzlDZDF2VmpoWHpFXzd3bjB2cDJGc19JQ19TVzBxbFhKTGRRZ2dpX1hUOWxRSUVIQ3pDNG0zZXJQbmpCVTNGQ0JGLVNEYUpJdVBNZkR4Z0c0X2E1MGd3VU9vZUVuM3c3RDBGTUtVUUtuSkppZl9TeDI1LWgxZ1I1Q18ySVlOZEk5VjZuR3JfcVE4YVlpWmhDYmxuZmMzTDRBMWhFNERGX3c1YXF2dWhzY19oWGhNZWYtR3NKYWxhazlwbml6dS1IVTZuanJkWHBJSUR5eHJHMkJaZ3VwQnJGcXRUZ3NUUHp2NXpHWnBkTmNpVzZ5WGh6WW9raWRRUUZ0eFF1TGFQQ2FRYTRDNnFOLUlMakhlVjNsVWM2V1VNUjFwN1dqdGVEZThoSjFrYXhyZ3JpYWQ1M3d1b01zRlpFNERQYzdDSmhVN0RTRGtUWUNvQmFsNjU0ejJqQnJVNXpFUEIzT3YtcVJjTTkzdGFzUkNMbWRac25wbWQwbS1SMkljU052cks2UnQ0eHJXbF85RXlNbFY5ZXBxWFlSUk1ZZkt2Q2lhd0ZIOWo2T0JKVVAyTTNJWHVHN1VOLVZpODFqQ1dsRUdDNWhFUkJ1X2VhZUsxOGZHQUdEem1HeWt5X3Rub2YxeFpOejNMTDZvSjV4eUR1bDNBOVl3OXZUZms0MzNUWHBXWUl2RjdUWmZHMkNXVE1ERl81Z0VPZF9qblAxSFUyQU5RZllsNVA4UlQxTkJFYWlNcFNsZC1jbldXWFBhekFVaUVKcktDMHFZZFRmdzNxOC16WF9NRExJd3pLUF83ZmxSZmtKU2NyQmF2blNKLWRlVWVZbjF4Qmp3emlacTNyRENyY3NtcUsyczRoZWp4QjBIQWF6N3RmUHNnazVEWm9HT0VVUnFIdlg3TzZZZk1qczUtYmVxeGZMOUJZM0V6TUsza1dISkRETUZfMzRmZ2dMU1MwbzkzSkRVVTJKbkdNLUU5Rkx3RFlnX3BEU0xTVFE1dnN4MXQxREs4YzdSMW0zVFgwQTNiQ014Z1h1b3VIczhCWHpVX244X2ZzVmxIZWdKeFA1ajhvTHgzclFDamN4QUd3QXdSc2lGNjZyY0xSQ3BGNnpYNDFkZVcxdWtJczAyTHRZWFBFdEdvMHMzSWdSelpBOTJVWlRnZk9iM1RaTGhfUjN6V1pRc2UxVDdoSXVjeTFPMW5YalhEUUY5TVFadHJNNXl1VXVhNVRoc01DRFo4UjRtbXE1dWkyb2xBdE5YOUx4dC1ITFVzMGZfeXN5dWRpZVFHeU9DVWszRjVWWm5XSENaWlVsR2JFcnh2RU9wVnVCUC1DU1NPYXdFSVNRdkJ0Q1hGMlJKX3FnRzBsUk5sMTRORmpDS1NETzdPbWZSVDNvQllRTzItRl9LTWJ0RkZwa1UzY1g0ei1idkhqLUpVTW55aWJjclplbFNqT2tpX0oyUGR0TDVMdkJnSzdpNGg1VUtrX09uaFdqU2c5TWVZOHh2UDBhbXdCTm5sRnhOSDZmRmIwcTktdE9EMDM4Z1Jrc1d2NXdtbm5SRV81Zl90b3NRZEhLcFlSWkUwMVJyS1pCcXdzaUxQRGR4TWU1RUYtalYtOHNIT094MnhIQk1BMGtTcDVMTDJpWWhQdmstaWtNMTlrMFlEOWhJZ1FfVUIzS1BwejJNak1obUZqQlNqVnVvd2dYS1BtWHVUaFctYUdvQ0JmWnREQkJ2aEhSRVhlejBGRTlhOFhMS19uSE5Bc0ktci0wd1VHNE02SnVmT0lQZlduaV9pejFieV82RmhUUTBpREpTVEhSNDVPX2lic0x3R1padWJxN085SFAyVUpkN0RKbUxoT19WMl9YeDUtbk9iRFpXUmZMMXQ4OU5FaGJOOUdSdGQ4SGRfektZRUIxNkt2Rnc0TFhlUEk2NnU3MHVKZE1aMFlTc201dzB2SWk4MVgtRjFxQzBFREJVRXhrbGo3eUM0VXNrbF83Q0pJZGw4Zm9BSHl2WDZJYmc2alVSWGFvY213MmxWQ1ZzSGkyUTU3NWV4WVRZc3pyVGt3aE5QN0ZCZDBnQm5ScG9kakFDdXFLX1VaLXlhNklqWC1ub21qRXRKS0ZIdm9XQndjMG50N1pCeks1R2Q2VzZZM3hTd2xCN2tucU5rZ3JtbXVCV2pUNTdYTzZ4NWFDTlRwZUo3TEpHQjgtVVZDUG9fWDBSRWlZWFlFOVJ0a24ycU9iYmdrYnh6ME9EVUNuNU1STjF0Y2tCcW1GWjV3RHRQQmpFWUxGSHBocEMzT0xBOGtFLVhscm8tc1pCOEJyQzRqQV9yZlRsYmJlSHlfU01USUJOR254d2VHZ2lMSTM4dU92VXZfcTZWUVB2dlBNYlgzSU8xOGdYWFh5Z0U2QTJZVm9Qa0gwa3BRcHBxOEJEWTFaNzJoTUtxcW5xZHlKV3JoOWlQOGd1TTl3UFlHdU8yd2xEVXlLazFJMWFvVGl3MmVERnNLSTZKNFF6Q2dEZXBwNUp6QjVVdWJxVUhHalF5emlfMmpFcVczRVJQb2tTOGRkYXotUjR0WERYTklmeV82ZmI0TThwakZYaG9oTm5ISlZoN0pkR21vOFgyRFpvUTY1SV9ZYjlsbE5NQlJyb0lLVHRJSlBoaU1hMmR4VGgtYlZjTGl2ZEdpTDlFVXN1Z0RHR2FkVXYzX1g4UDROdDd1N0NpZF9YcndVMTBQMi1NOFg4WkZsRHh4eXZ3WUdpMjVFM2xSLXNaOGZfMXBtWmtBWTQtZExfX3RYOGdJOXUzTkFGaXYyM0Rwa1MzeWdQbTlta081YTFfTU1fSlAxdDZuc0Vub1NmWTRMbGhqN1EyWG82T1ZNd1ZGMndnOWJNVURmVkc4RVZvT3NETWZvUW1MelFSbnVyT3JzQXlGa2lRMF81bm5yYU9OVElLdEdtbm1FaTByMDlqR3AxWTEybnM0LVRhZnZfWFpLdk11SDlnV29iOFFYR3pQUUNCUjI0N0xkNk5Na3QzM2c0OHB4NzVNTTN6eWhQc25nQ0J5TS0wV1o3VHpGaFVOdlJLckJTNGJLUlY1MXlxR05UTW1XRWRGQklYNVZ2VXJkbEVhbFRaLWNCa2tGcGx0UTBIWFl3cHE2elctX0ZBSFBvcDkxUW1BWTlxbnZLUGMwbkdJLTJsMDNqd2liUFZ4bXVxZFktektXenBtOUhiSVh3QWw5ZGxpUmxiTVo5MUpSVTlvU0paNkd4Q3JMSGUzZVU0YklzR21FYk4yS3pBdnZZVkVCSktDRlRWM2JXc3RLSl8taUxiZmp3Uy1Lc1BKaFZLc1lWQlZLdlEwZnc3MWxZbk9SS3htaWpLSVMtZ0Zsb1hiODI2VnVNSWRfUWlvTzRxeGJYNnRld3RlY0VFOU5rRHdDUU5UOXhFUFN5ZEdiR2tGZWU1NHRxRldCR1FKUnhnLTJHT2xvV1NMekh2ako0WFMzcHlSWmJHdzhXa3BDWnVXZWtNVXVRWTJHUlVjMnNVREpfUFpRZlo5UkZ1Vlg2T21jaE9HMlNYRXVhRFptaTk0Y3hHUjVjSjFSdDB4RXZtaW1xV1VCTlF2dEZfaGQ2bE9rNDA2RzBCb2tnNS1zTVBvUzd2MHV1Q1MtZlN5SVJLaHdJM0xnSkdTd085c2hKOXBwSjRaczJVakNzUzBUaDZxS19xUjVPaHpXWXo4MjFMU0hxb2UzOWxwNWZjRVhHSmVQd2tfN2Zlc3BEUU1EMWRIaE5hbE5kVzYtVUh6dmdqT2FNYWJLdDI4a05vVkxNa0tLakd1Q0pvNGtWMnZRQVRQRUtVdzlBNS1NRldQTjdSb21iUWdRTDQ2RWw2U2pIaWtQQnZiRXFkQXJmNXdWRTZEX240bUE0WmoxNXllN3FnTlFFZXNkYy1tcTFhYXNHVzc1eFFCVjBUS1JRV0djMkp1cUtJcUlTTnp2Q0JMSDhSQVFtN3ZwaFJFWVU5X08yaGhxS3o2aDVvd0ZGYlpGZW1saFltV1htc1h3bWFndHhMZFB5MzJxQXdJRklyMmxra0JqNm1YeWhpZ1BBM3VMSUFVTTRyRVJndlVJUVhaVHRPSDZPZUlsaGdVLW0wdWV3LWU0aFdYTnNSanVvZlU=)
        FCI_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmhETkd4V0lpS21sU0lxRnQtMTV4QzV0T2RqYnp2MDFkWEVIMHFRRGEzN2RFX1EydHl1X1R1Tkh0MGd0eGRreFpIV1Y3T2lRMHZhYnJBYVp4VlRpQ19fZEJWUGc9PQ==)
        FCI_KEY_PASSWORD: Encrypted(Z0FBQUFBQmhETkd4V1NSLTlPUm5EZlM3N09FdFlCNUxvbFlvcUhjSnBZbXpWLW94Ry0yVUhMWlp5eWJaWURoRENOdVBtNGNfLVROV2g4NXhaSnJxMnNtX3c2TVZydXQ3ZXc9PQ==)
        FCI_KEY_ALIAS: Encrypted(Z0FBQUFBQmhETkd4Y2YtLVdKQ19wMGNXMXpwZmFDWDhKaGpWWGtFRzByZlpGWllnTjlYYzNjTmRDb1J6OXdCMHFBeTNCN0VOWGRybE50cHVuY0k2NDN1c2NGVVFURUdSZGc9PQ==)
      flutter: stable
      xcode: latest
      cocoapods: default
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: '*'
          include: true
          source: true
      tag_patterns:
        - pattern: '*'
          include: true
    scripts:
      - |
        # set up key.properties
        echo $FCI_KEYSTORE | base64 --decode > $FCI_KEYSTORE_PATH
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$FCI_KEYSTORE_PASSWORD
        keyPassword=$FCI_KEY_PASSWORD
        keyAlias=$FCI_KEY_ALIAS
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - flutter packages pub get
      - flutter build apk --release
    artifacts:
      - build/**/outputs/apk/**/*.apk
      - build/**/outputs/bundle/**/*.aab
      - build/**/outputs/**/mapping.txt
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - akidfikriazhar@gmail.com
          - lunelabanoon@gmail.com
      firebase:
        firebase_token: Encrypted(Z0FBQUFBQmhETkd4QkQ2Y2NIMGNFUGdYNHhCd0R0VEMtRXk4QzR4QzFnT29iX0JQUG9CNDZzZm83REFCZzQ5dlFaSWFJRjhfSk42c2cyQWxoR0ZhWU44Q1FRVHB2R1JKUmRrdEphLXhqb2F4Njd4d3dMU21YTll6UUNIbXdqY0MzUm5SUXhjMlNWYjFOTFV5WXNleGJwTVhDS1c0M3IxTFNyWk5MbGpVYXB2M3dsbVl2N1g2cUlKbjNJdUZoMmtFTlVHRC1kYWxJbFVVcmd6UmFmSkwwemd4RlBsNHo0U1B3UT09)
        android:
          app_id: 1:728682371792:android:495be73270a924caef5cd5
          groups:
            - normal-user
